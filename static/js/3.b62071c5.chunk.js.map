{"version":3,"sources":["components/Messages/CurrentDialog/CurrentDialog.module.css","components/Messages/Dialog/Dialog.module.css","components/Messages/Messages.module.css","components/Messages/CurrentDialog/CurrentDialog.js","components/Messages/CurrentDialog/CurrentDialogContainer.js","components/Messages/Dialog/Dialog.js","components/Messages/Dialog/DialogContainer.js","components/Messages/Messages.js"],"names":["module","exports","AddNewMessageForm","props","onSubmit","values","form","sendMessage","message","setTimeout","reset","render","handleSubmit","submitting","pristine","className","s","messageBox","name","component","placeholder","disabled","CurrentDialog","messagesElements","messageState","messages","map","i","key","src","avatarImg","avatar","alt","messageWrapper","messageWrapperForm","CurrentDialogContainer","connect","state","dialogsPage","profilePage","dispatch","actionAddMessage","Dialog","dialogsElement","dialogsState","dialog","to","id","activeClassName","selected","dialogs","compose","withAuthRedirect","Messages","dialogsWrapper","DialogContainer"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,WAAa,kCAAkC,SAAW,gCAAgC,QAAU,+BAA+B,eAAiB,sCAAsC,mBAAqB,4C,oBCAjOD,EAAOC,QAAU,CAAC,QAAU,wBAAwB,SAAW,2B,oBCA/DD,EAAOC,QAAU,CAAC,eAAiB,mC,uHCI7BC,EAAoB,SAACC,GASvB,OAAO,kBAAC,IAAD,CAAMC,SAPI,SAACC,EAAQC,GACtBH,EAAMI,YAAYF,EAAOG,SACzBC,YAAW,WACPH,EAAKI,UACN,MAG0BC,OAAQ,gBAAGC,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,WAAYC,EAA7B,EAA6BA,SAA7B,OACrC,0BAAMV,SAAUQ,GACZ,yBAAKG,UAAWC,IAAEC,YACd,kBAAC,IAAD,CAAOC,KAAK,UAAUC,UAAU,WAAWC,YAAY,2BAE3D,4BAAQC,SAAUR,GAAcC,GAAhC,aAwBGQ,EAlBO,SAACnB,GAEnB,IAAMoB,EAAmBpB,EAAMqB,aAAaC,SACvCC,KAAI,SAAClB,EAASmB,GAAV,OAAgB,yBAAKZ,UAAWC,IAAER,QAASoB,IAAKD,GACjD,yBAAKE,IAAK1B,EAAM2B,WAAaC,IAAQC,IAAI,QACzC,8BAAOxB,EAAQU,UAGvB,OAAO,yBAAKH,UAAWC,IAAES,UACrB,yBAAKV,UAAWC,IAAEiB,gBACbV,GAEL,yBAAKR,UAAWC,IAAEkB,oBACd,kBAAC,EAAD,CAAmB3B,YAAaJ,EAAMI,iBCnBnC4B,EAFgBC,aAbP,SAACC,GACrB,MAAO,CACHb,aAAca,EAAMC,YACpBR,UAAWO,EAAME,YAAYR,WAIV,SAACS,GACxB,MAAO,CACHjC,YAAa,SAACC,GAAD,OAAagC,EAASC,YAAiBjC,QAI7B4B,CAA6Cd,G,yCCF7DoB,EAXA,SAACvC,GAEZ,IAAMwC,EAAiBxC,EAAMyC,aACxBlB,KAAI,SAACmB,EAAQlB,GAAT,OACD,kBAAC,IAAD,CAASmB,GAAI,YAAcD,EAAOE,GAAInB,IAAKD,EAAGqB,gBAAiBhC,IAAEiC,UAC5DJ,EAAO3B,SAGpB,OAAO,yBAAKH,UAAWC,IAAEkC,SAAUP,ICKxBQ,cACXf,aAboB,SAACC,GACrB,MAAO,CACHO,aAAcP,EAAMC,YAAYY,YAIb,WACvB,MAAO,MAOPE,IAFWD,CAGbT,G,kBCNaW,UATE,WACb,OACI,yBAAKtC,UAAWC,IAAEsC,gBACd,kBAACC,EAAD,MACA,kBAAC,EAAD","file":"static/js/3.b62071c5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageBox\":\"CurrentDialog_messageBox__3AWqx\",\"messages\":\"CurrentDialog_messages__1q3wc\",\"message\":\"CurrentDialog_message__BUTd0\",\"messageWrapper\":\"CurrentDialog_messageWrapper__e5NVZ\",\"messageWrapperForm\":\"CurrentDialog_messageWrapperForm__PG4Wu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialog_dialogs__JkcFf\",\"selected\":\"Dialog_selected__3G6lQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsWrapper\":\"Messages_dialogsWrapper__3zytG\"};","import React from 'react'\r\nimport { Field, Form } from 'react-final-form';\r\nimport s from './CurrentDialog.module.css'\r\nimport avatar from '../../../assets/img/avatar.png'\r\n\r\nconst AddNewMessageForm = (props) => {\r\n    \r\n    const onSubmit = (values, form) => {\r\n        props.sendMessage(values.message);\r\n        setTimeout(() => {\r\n            form.reset();\r\n        }, 200);\r\n    };\r\n\r\n    return <Form onSubmit={onSubmit} render={({ handleSubmit, submitting, pristine }) => (\r\n        <form onSubmit={handleSubmit}>\r\n            <div className={s.messageBox}>\r\n                <Field name=\"message\" component=\"textarea\" placeholder=\"Write your message...\" />\r\n            </div>\r\n            <button disabled={submitting || pristine}>Send</button>\r\n        </form>\r\n    )}\r\n    />\r\n}\r\n\r\nconst CurrentDialog = (props) => {\r\n\r\n    const messagesElements = props.messageState.messages\r\n        .map((message, i) => <div className={s.message} key={i}>\r\n            <img src={props.avatarImg || avatar} alt='ava' />\r\n            <span>{message.name}</span>\r\n        </div>)\r\n\r\n    return <div className={s.messages}>\r\n        <div className={s.messageWrapper}>\r\n            {messagesElements}\r\n        </div>\r\n        <div className={s.messageWrapperForm}>\r\n            <AddNewMessageForm sendMessage={props.sendMessage} />\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default CurrentDialog;","import { connect } from 'react-redux';\r\nimport { actionAddMessage } from '../../../redux/reducer-messages';\r\nimport CurrentDialog from './CurrentDialog'\r\n\r\nconst MapStateToProps = (state) => {\r\n    return {\r\n        messageState: state.dialogsPage,\r\n        avatarImg: state.profilePage.avatar,\r\n    }\r\n}\r\n\r\nconst MapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (message) => dispatch(actionAddMessage(message)),\r\n    }\r\n}\r\n\r\nconst CurrentDialogContainer = connect(MapStateToProps, MapDispatchToProps)(CurrentDialog)\r\n\r\nexport default CurrentDialogContainer;","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from './Dialog.module.css'\r\n\r\nconst Dialog = (props) => {\r\n\r\n    const dialogsElement = props.dialogsState\r\n        .map((dialog, i) =>\r\n            <NavLink to={\"/message/\" + dialog.id} key={i} activeClassName={s.selected}>\r\n                {dialog.name}\r\n            </NavLink>)\r\n\r\n    return <div className={s.dialogs}>{dialogsElement}</div>\r\n}\r\n\r\nexport default Dialog;","import { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { withAuthRedirect } from '../../../hoc/withRedirect'\r\nimport Dialog from './Dialog'\r\n\r\nconst MapStateToProps = (state) => {\r\n    return {\r\n        dialogsState: state.dialogsPage.dialogs,\r\n    }\r\n}\r\n\r\nconst MapDispatchToProps = () => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(MapStateToProps, MapDispatchToProps),\r\n    withAuthRedirect //hoc for authorisation redirect to login\r\n)(Dialog)\r\n","import React from 'react';\r\nimport CurrentDialogContainer from './CurrentDialog/CurrentDialogContainer';\r\nimport DialogContainer from './Dialog/DialogContainer';\r\nimport s from './Messages.module.css'\r\n\r\nconst Messages = () => {\r\n    return (\r\n        <div className={s.dialogsWrapper}>\r\n            <DialogContainer />\r\n            <CurrentDialogContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Messages;"],"sourceRoot":""}